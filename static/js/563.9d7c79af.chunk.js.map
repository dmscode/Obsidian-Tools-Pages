{"version":3,"file":"static/js/563.9d7c79af.chunk.js","mappings":"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","sources":["routes/QuickNote.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\nimport './QuickNote.css';\r\n\r\nconst defaultPath = 'obsidian://advanced-uri?filepath=Logs%252F{{date}}.md'\r\nconst defaultTemplate = `---\r\ncreated: {{date}} {{time}}\r\nupdated: {{date}} {{time}}\r\n---\r\n\r\n{{content}}`\r\n/**\r\n * 数字两位化\r\n *\r\n * @param {number} num 0~99 的整数\r\n * @returnn {string}\r\n */\r\nconst dbNum = num => String(num).padStart(2, '0')\r\n\r\nconst QuickNote = () => {\r\n  const [showConfig, setShowConfig] = useState(()=>!window.localStorage.getItem('QuickNotePath') || !window.localStorage.getItem('QuickNoteTemplate'))\r\n  const [notePath, setNotePath] = useState(()=>window.localStorage.getItem('QuickNotePath') || defaultPath)\r\n  const [template, setTemplate] = useState(()=>window.localStorage.getItem('QuickNoteTemplate') || defaultTemplate)\r\n  const [note, setNote] = useState(()=>window.localStorage.getItem('QuickNoteContent') || '')\r\n\r\n  useEffect(()=>{ window.localStorage.setItem('QuickNotePath', notePath) }, [notePath])\r\n  useEffect(()=>{ window.localStorage.setItem('QuickNoteTemplate', template) }, [template])\r\n  useEffect(()=>{ window.localStorage.setItem('QuickNoteContent', note) }, [note])\r\n\r\n  const sendNote = useCallback(()=>{\r\n    const now = new Date()\r\n    const keywords = {\r\n      content: note,\r\n      YYYY: now.getFullYear(),\r\n      MM: dbNum(now.getMonth()+1),\r\n      dd: dbNum(now.getDate()),\r\n      HH: dbNum(now.getHours()),\r\n      mm: dbNum(now.getMinutes()),\r\n      ss: dbNum(now.getSeconds()),\r\n    }\r\n    keywords.date = `${keywords.YYYY}-${keywords.MM}-${keywords.dd}`\r\n    keywords.time = `${keywords.HH}:${keywords.mm}:${keywords.ss}`\r\n\r\n    const path = notePath.replace(/\\{\\{(\\w+)\\}\\}/g, (m, s)=> keywords[s] || m)\r\n    const data = template.replace(/\\{\\{(\\w+)\\}\\}/g, (m, s)=> keywords[s] || m)\r\n    window.open(`${path}&data=${encodeURIComponent(data)}&mode=append`)\r\n  }, [note, notePath, template])\r\n  return (\r\n    <div className=\"quick-note\">\r\n      {\r\n        showConfig\r\n        ? (\r\n          <div className=\"quick-note-config\">\r\n            <label htmlFor=\"quick-note-path\">笔记地址（Advanced URI 格式）：</label>\r\n            <input\r\n              id=\"quick-note-path\"\r\n              placeholder=\"笔记地址（Advanced URI 格式），可以使用下方变量。\"\r\n              value={notePath || ''}\r\n              onChange={e=>setNotePath(e.target.value)}></input>\r\n            <label htmlFor=\"quick-note-template\">笔记模板：</label>\r\n            <textarea\r\n              id=\"quick-note-template\"\r\n              placeholder=\"笔记模板，可以使用下方变量。考虑到可能追加在原有笔记中，所以不建议比较复杂。\"\r\n              value={template || ''}\r\n              onChange={e=>setTemplate(e.target.value)}></textarea>\r\n          </div>\r\n        )\r\n        : <textarea\r\n            id=\"quick-note-content\"\r\n            placeholder=\"写下笔记，然后发送……\"\r\n            value={note || ''}\r\n            onChange={e=>setNote(e.target.value)}></textarea>\r\n      }\r\n      <button className=\"config\" onClick={()=>{setShowConfig(nowState=>!nowState)}}>{showConfig ? 'Note' : 'Config'}</button>\r\n      {!showConfig && <button className=\"Save\" onClick={sendNote}>Send Note</button>}\r\n      {showConfig && (\r\n        <div className=\"quick-note-desc\">\r\n          <h3>使用说明：</h3>\r\n          <p>本工具基于 <a href=\"https://github.com/Vinzent03/obsidian-advanced-uri\">Advanced URI</a> 的 Api，故需要先安装此插件。</p>\r\n          <p>然后在你预定的位置创建一篇笔记，复制这篇笔记的 Advanced URI ，粘贴到本工具的笔记地址栏。这样所有新添加内容都会追加到这篇笔记中。</p>\r\n          <p>你也可以在地址中使用变量，变量的格式：<code>&#123;&#123;关键字&#125;&#125;</code>。从而实现按一定规则自动创建笔记。</p>\r\n          <p>模板中同样可以使用变量实现 Front matter 的添加。需要注意：<strong>模板中必须用 <code>&#123;&#123;content&#125;&#125;</code> 变量来插入笔记的内容</strong>，否则就不包含你书写的笔记了哦~</p>\r\n          <p>工具有数据自动保存和自动恢复，只是以防意外，必要过度依赖，不要使用浏览器的退出自动清除浏览数据或者隐私浏览模式。</p>\r\n          <p><strong>可用变量关键字：</strong></p>\r\n          <ul>\r\n          <li><code>content</code>：你输入的笔记内容</li>\r\n          <li><code>date</code>：2022-11-16 格式的日期</li>\r\n          <li><code>time</code>：16:05:31 格式的时间</li>\r\n          <li><code>YYYY</code>：年份</li>\r\n          <li><code>MM</code>：月份</li>\r\n          <li><code>dd</code>：日期</li>\r\n          <li><code>HH</code>：小时</li>\r\n          <li><code>mm</code>：分钟</li>\r\n          <li><code>ss</code>：秒</li>\r\n          </ul>\r\n\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default QuickNote;\r\n"],"names":["dbNum","num","String","padStart","useState","window","localStorage","getItem","showConfig","setShowConfig","notePath","setNotePath","template","setTemplate","note","setNote","useEffect","setItem","sendNote","useCallback","now","Date","keywords","content","YYYY","getFullYear","MM","getMonth","dd","getDate","HH","getHours","mm","getMinutes","ss","getSeconds","date","time","path","replace","m","s","data","open","encodeURIComponent","className","htmlFor","id","placeholder","value","onChange","e","target","onClick","nowState","href"],"sourceRoot":""}